<div class="container ml-1 mt-1">
  <div>
    <button mat-raised-button (click)="oAuth2Twitch()" color="basic">
      Twitch
    </button>
    <a
      mat-raised-button
      class="ml-1"
      *ngIf="oAuthTokenTaken"
      [href]="connectTwitch()"
      color="accent"
    >
      OAUTH 2 Twitch
    </a>
  </div>
  <div class="mt-1">
    <form *ngIf="oAuthTokenTaken" [formGroup]="form" (ngSubmit)="submit()">
      <mat-form-field appearance="outline">
        <mat-label>Digite o usuario da twitch</mat-label>
        <input matInput formControlName="user" />
      </mat-form-field>

      <div>
        <button
          type="submit"
          mat-raised-button
          (click)="oAuth2Twitch()"
          [disabled]="form?.invalid"
          color="primary"
        >
          Pesquisar
        </button>
      </div>
    </form>
  </div>

  <div>
    <pre>

      {{ twitchUser$ | async | json }}
    </pre>
  </div>
</div>
